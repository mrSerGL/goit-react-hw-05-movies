(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[655],{655:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(439),o=n(791),i=n(689),a=n(966),c=n(413),s=n(1),u=n(323),l={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},p="Reviews_item__DJKij",f="Reviews_author__CqYAZ",d="Reviews_review__sHbuN",h=n(184),y=function(){var e=(0,o.useState)(c.Z.movieReviews),t=(0,r.Z)(e,1)[0],n=(0,o.useState)([]),y=(0,r.Z)(n,2),m=y[0],b=y[1],v=(0,o.useState)(l.IDLE),g=(0,r.Z)(v,2),w=g[0],O=g[1],T=(0,i.UO)().id,k="/movie/".concat(T).concat(t,"?api_key=").concat(s.Z,"&language=en-US");(0,o.useEffect)((function(){O(l.PENDING),(0,u.Z)(k).then((function(e){0!==e.data.results.length?(b(e.data.results),O(l.RESOLVED)):O(l.IDLE)}))}),[]);var E=function(e){console.log(e)};return(0,h.jsxs)(h.Fragment,{children:[w===l.PENDING&&(0,h.jsx)("p",{children:"Loading.."}),w===l.RESOLVED&&(0,h.jsx)("ul",{className:d,children:m.map((function(e){return(0,h.jsxs)("li",{className:p,children:[(0,h.jsx)("h2",{className:f,children:e.author}),(0,h.jsx)(a.Z,{lines:3,more:"Show more",less:"Show less",anchorClass:"show-more-less-clickable",onClick:E,expanded:!1,width:2400,truncatedEndingComponent:"... ",children:(0,h.jsx)("p",{children:e.content})})]},e.id)}))}),w===l.IDLE&&(0,h.jsx)("p",{children:"We don't have any reviews for this movie."})]})}},1:function(e,t){"use strict";t.Z="487147f1f35b8dc05ecb62d6b1edb1cd"},413:function(e,t){"use strict";t.Z={trending:"/trending/movie/day",querySearch:"/search/movie",movieDetails:"/movie/",movieCredits:"/credits",movieReviews:"/reviews"}},323:function(e,t,n){"use strict";var r=n(861),o=n(757),i=n.n(o),a=n(243);a.Z.defaults.baseURL="https://api.themoviedb.org/3";var c=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get("".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log("getMovies says:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();t.Z=c},888:function(e,t,n){"use strict";var r=n(47);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},966:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.Z=void 0;var o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(791)),a=n(7),c=(o=n(146))&&o.__esModule?o:{default:o};function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(135);var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(a,e);var t,n,r,o=p(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),y(d(t=o.call(this,e)),"_isMounted",!1),y(d(t),"handleTruncate",(function(e){t._isMounted&&e!==t.state.truncated&&(t.setState({truncated:e}),e&&t.truncateRef.onResize(),t.props.onTruncate&&t.props.onTruncate())})),y(d(t),"toggleLines",(function(e){e.preventDefault();var n=d(t);n.props.expandByClick?t._isMounted&&t.setState({expanded:!t.state.expanded},(function(){n.props.onClick&&n.props.onClick(n.state.expanded,e)})):n.props.onClick&&n.props.onClick(n.state.expanded,e)})),t.state={expanded:!1,truncated:!1},t}return t=a,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.setState({expanded:this.props.expanded})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.more,o=t.less,a=t.lines,s=t.anchorClass,u=t.className,l=t.width,p=t.keepNewLines,f=t.truncatedEndingComponent,d=(t.onTruncate,this.state),h=d.expanded,y=d.truncated;return i.default.createElement("div",{className:u},i.default.createElement(c.default,{width:l,lines:!h&&a,ellipsis:i.default.createElement("span",null,f,i.default.createElement("span",{className:s,onClick:this.toggleLines},r)),onTruncate:this.handleTruncate,ref:function(t){return e.truncateRef=t}},p?n.split("\n").map((function(e,t,n){return e=i.default.createElement("span",{key:t},e),t===n.length-1?e:[e,i.default.createElement("br",{key:t+"br"})]})):n),!y&&h&&i.default.createElement("span",null," ",i.default.createElement("span",{className:s,onClick:this.toggleLines},o)))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component);y(m,"defaultProps",{lines:3,more:"Show more",less:"Show less",anchorClass:"show-more-less-clickable",onClick:void 0,expanded:!1,width:0,keepNewLines:!1,truncatedEndingComponent:"... ",expandByClick:!0,onTruncate:void 0}),y(m,"propTypes",{children:a.PropTypes.node,lines:a.PropTypes.number,more:a.PropTypes.node,less:a.PropTypes.node,anchorClass:a.PropTypes.string,className:a.PropTypes.string,onClick:a.PropTypes.func,expanded:a.PropTypes.bool,width:a.PropTypes.number,keepNewLines:a.PropTypes.bool,truncatedEndingComponent:a.PropTypes.node,expandByClick:a.PropTypes.bool,onTruncate:a.PropTypes.func});var b=m;t.Z=b},146:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(791)),i=c(n(7)),a=["children","ellipsis","lines"];function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(c,e);var t,n,r,i=d(c);function c(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return l(this,c),b(y(e=i.call.apply(i,[this].concat(n))),"state",{}),b(y(e),"extractReplaceLinksKeys",(function(t){var n=y(e),r=0;return e.replacedLinks=[],t.replace(/(<a[\s]+([^>]+)>((?:.(?!\<\/a\>))*.)<\/a>)/g,(function(){var e=Array.prototype.slice.call(arguments,1,4);e.key="["+"@".repeat(e[2].length-1)+"="+r+++"]",n.replacedLinks.push(e),t=t.replace(e[0],e.key)})),t})),b(y(e),"restoreReplacedLinks",(function(t){return e.replacedLinks.forEach((function(e){t=t.replace(e.key,e[0])})),e.createMarkup(t)})),b(y(e),"innerText",(function(t){var n=document.createElement("div"),r="innerText"in window.HTMLElement.prototype?"innerText":"textContent",o=t.innerHTML.replace(/\r\n|\r|\n/g," ");n.innerHTML=e.extractReplaceLinksKeys(o);var i=n[r],a=document.createElement("div");return a.innerHTML="foo<br/>bar","foo\nbar"!==a[r].replace(/\r\n|\r/g,"\n")&&(n.innerHTML=n.innerHTML.replace(/<br.*?[\/]?>/gi,"\n"),i=n[r]),i})),b(y(e),"onResize",(function(){e.calcTargetWidth()})),b(y(e),"onTruncate",(function(t){var n=e.props.onTruncate;"function"===typeof n&&(e.timeout=window.requestAnimationFrame((function(){n(t)})))})),b(y(e),"calcTargetWidth",(function(t){var n=y(e),r=n.elements.target,o=n.calcTargetWidth,i=n.canvasContext,a=n.props.width;if(r){var c=a||Math.floor(r.parentNode.getBoundingClientRect().width);if(!c)return window.requestAnimationFrame((function(){return o(t)}));var s=window.getComputedStyle(r),u=[s["font-weight"],s["font-style"],s["font-size"],s["font-family"]].join(" ");i.font=u,e.setState({targetWidth:c},t)}})),b(y(e),"measureWidth",(function(t){return e.canvasContext.measureText(t).width})),b(y(e),"ellipsisWidth",(function(e){return e.offsetWidth})),b(y(e),"trimRight",(function(e){return e.replace(/\s+$/,"")})),b(y(e),"createMarkup",(function(e){return o.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}})})),b(y(e),"getLines",(function(){for(var t=y(e),n=t.elements,r=t.props,i=r.lines,a=r.ellipsis,c=r.trimWhitespace,s=t.state.targetWidth,u=t.innerText,l=t.measureWidth,p=t.onTruncate,f=t.trimRight,d=t.renderLine,h=t.restoreReplacedLinks,m=[],b=u(n.text).split("\n").map((function(e){return e.split(" ")})),v=!0,g=e.ellipsisWidth(e.elements.ellipsis),w=1;w<=i;w++){var O=b[0];if(0!==O.length){var T=O.join(" ");if(l(T)<=s&&1===b.length){v=!1,T=h(T),m.push(T);break}if(w===i){for(var k=O.join(" "),E=0,j=k.length-1;E<=j;){var _=Math.floor((E+j)/2);l(k.slice(0,_+1))+g<=s?E=_+1:j=_-1}var P=k.slice(0,E);if(c)for(P=f(P);!P.length&&m.length;){P=f(m.pop())}"]["===P.substr(P.length-2)&&(P=P.substring(0,P.length-1)),P=h(P=P.replace(/\[@+$/,"")),T=o.default.createElement("span",null,P,a)}else{for(var x=0,C=O.length-1;x<=C;){var R=Math.floor((x+C)/2);l(O.slice(0,R+1).join(" "))<=s?x=R+1:C=R-1}if(0===x){w=i-1;continue}T=h(T=O.slice(0,x).join(" ")),b[0].splice(0,x)}m.push(T)}else m.push(),b.shift(),w--}return p(v),m.map(d)})),b(y(e),"renderLine",(function(e,t,n){if(t===n.length-1)return o.default.createElement("span",{key:t},e);var r=o.default.createElement("br",{key:t+"br"});return e?[o.default.createElement("span",{key:t},e),r]:r})),b(y(e),"styles",{ellipsis:{position:"fixed",visibility:"hidden",top:0,left:0}}),e.elements={},e.replacedLinks=[],e}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.elements.text,t=this.calcTargetWidth,n=this.onResize,r=document.createElement("canvas");this.canvasContext=r.getContext("2d"),t((function(){e&&e.parentNode&&e.parentNode.removeChild(e)})),window.addEventListener("resize",n)}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.forceUpdate(),this.props.width!==e.width&&this.calcTargetWidth()}},{key:"componentWillUnmount",value:function(){var e=this.elements.ellipsis,t=this.onResize,n=this.timeout;e.parentNode&&e.parentNode.removeChild(e),window.removeEventListener("resize",t),window.cancelAnimationFrame(n)}},{key:"render",value:function(){var e,t=this,n=this.elements.target,r=this.props,i=r.children,c=r.ellipsis,l=r.lines,p=u(r,a),f=this.state.targetWidth,d=this.getLines,h=this.onTruncate;return"undefined"!==typeof window&&!(!n||!f)&&(l>0?e=d():(e=i,h(!1))),delete p.onTruncate,delete p.trimWhitespace,o.default.createElement("span",s({},p,{ref:function(e){t.elements.target=e}}),o.default.createElement("span",null,e),o.default.createElement("span",{ref:function(e){t.elements.text=e}},i),o.default.createElement("span",{ref:function(e){t.elements.ellipsis=e},style:this.styles.ellipsis},c))}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.default.Component);t.default=v,b(v,"propTypes",{children:i.default.node,ellipsis:i.default.node,lines:i.default.oneOfType([i.default.oneOf([!1]),i.default.number]),trimWhitespace:i.default.bool,width:i.default.number,onTruncate:i.default.func}),b(v,"defaultProps",{children:"",ellipsis:"\u2026",lines:1,trimWhitespace:!1,width:0})},135:function(e,t,n){"use strict";n.r(t),t.default={}}}]);
//# sourceMappingURL=655.f5ba21cc.chunk.js.map